<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta name="generator" content="HTML Tidy for Windows (vers 25 March 2009), see www.w3.org">
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
    <title>
      libtcod documentation | console
    </title>
    <link href="../../css/style.css" rel="stylesheet" type="text/css">
  </head>
  <body>
    <div class="header">
      <p>
        <span class="title1">libtcod</span><span class="title2">documentation</span>
      </p>
    </div>
    <div class="breadcrumb">
      <div class="breadcrumbtext">
        <p>
          you are here: <a href="../../index.html">Index</a> &gt; <a href="index.html">2. Console</a><br>
          <a class="prev" href="../color/index.html">1. Colors</a> | <a class="next" href="../system/index.html">3. System layer</a>
        </p>
      </div>
    </div>
    <div class="main">
      <div class="maintext">
        <p>
          The console emulator handles the rendering of the game screen and the keyboard input.
        </p>
        <div id="toc">
          <ul>
            <li class="haschildren">
              <a href="console_init.html">2.1. Initializing the console</a>
              <ul>
                <li>
                  <a href="console_init_root.html">2.1.1. Creating the game window</a>
                </li>
                <li>
                  <a href="console_set_bitmap_font_size.html">2.1.2. Using a custom bitmap font</a>
                </li>
                <li>
                  <a href="console_map.html">2.1.3. Using custom characters mappings</a>
                </li>
                <li>
                  <a href="console_is_fullscreen.html">2.1.4. Getting the current mode (windowed/fullscreen)</a>
                </li>
                <li>
                  <a href="console_set_fullscreen.html">2.1.5. Switching between windowed and fullscreen modes</a>
                </li>
                <li>
                  <a href="console_is_window_closed.html">2.1.6. Handling "close window" events</a>
                </li>
                <li>
                  <a href="console_set_window_title.html">2.1.7. Changing the window title</a>
                </li>
                <li>
                  <a href="console_credits.html">2.1.8. Showing credits for libtcod</a>
                </li>
              </ul>
            </li>
            <li class="haschildren">
              <a href="console_drawing.html">2.2. Drawing on the root console</a>
              <ul>
                <li>
                  <a href="#">2.2.1. Flushing the root console</a>
                </li>
                <li class="haschildren">
                  <a href="console_drawing_basic.html">2.2.2. Basic printing functions</a>
                  <ul>
                    <li>
                      <a href="console_set_background_color.html">2.2.2.1. Setting the default background color</a>
                    </li>
                    <li>
                      <a href="console_set_foreground_color.html">2.2.2.2. Setting the default foreground color</a>
                    </li>
                    <li>
                      <a href="console_clear.html">2.2.2.3. Clearing the console</a>
                    </li>
                    <li>
                      <a href="console_put_char.html">2.2.2.4. Modifying every property of a cell</a>
                    </li>
                    <li>
                      <a href="console_set_back.html">2.2.2.5. Modifying the background color of a cell</a>
                    </li>
                    <li>
                      <a href="console_set_fore.html">2.2.2.6. Modifying the foreground color of a cell</a>
                    </li>
                    <li>
                      <a href="console_set_char.html">2.2.2.7. Modifying the ASCII code of a cell</a>
                    </li>
                  </ul>
                </li>
                <li class="haschildren">
                  <a href="console_drawing_string.html">2.2.3. String printing functions</a>
                  <ul>
                    <li>
                      <a href="console_print_left.html">2.2.3.1. Printing a left aligned string</a>
                    </li>
                    <li>
                      <a href="console_print_right.html">2.2.3.2. Printing a right aligned string</a>
                    </li>
                    <li>
                      <a href="console_print_center.html">2.2.3.3. Printing a centered string</a>
                    </li>
                    <li>
                      <a href="console_print_left_rect.html">2.2.3.4. Printing a left aligned string with autowrap</a>
                    </li>
                    <li>
                      <a href="console_print_right_rect.html">2.2.3.5. Printing a right aligned string with autowrap</a>
                    </li>
                    <li>
                      <a href="console_print_center_rect.html">2.2.3.6. Printing a centered string with autowrap</a>
                    </li>
                    <li>
                      <a href="console_color_control.html">2.2.3.7. Changing the colors while printing a string</a>
                    </li>
                  </ul>
                </li>
                <li class="haschildren">
                  <a href="console_drawing_advanced.html">2.2.4. Advanced printing functions</a>
                  <ul>
                    <li>
                      <a href="console_rect.html">2.2.4.1. Filling a rectangle with the background color</a>
                    </li>
                    <li>
                      <a href="console_hline.html">2.2.4.2. Drawing an horizontal line</a>
                    </li>
                    <li>
                      <a href="console_vline.html">2.2.4.3. Drawing a vertical line</a>
                    </li>
                    <li>
                      <a href="console_print_frame.html">2.2.4.4. Drawing a window frame</a>
                    </li>
                  </ul>
                </li>
                <li class="haschildren">
                  <a href="console_drawing_reading.html">2.2.5. Reading the content of the console</a>
                  <ul>
                    <li>
                      <a href="console_get_background_color.html">2.2.5.1. Reading the default background color</a>
                    </li>
                    <li>
                      <a href="console_get_foreground_color.html">2.2.5.2. Reading the default foreground color</a>
                    </li>
                    <li>
                      <a href="console_get_back.html">2.2.5.3. Reading the background color of a cell</a>
                    </li>
                    <li>
                      <a href="console_get_fore.html">2.2.5.4. Reading the foreground color of a cell</a>
                    </li>
                    <li>
                      <a href="console_get_char.html">2.2.5.5. Reading the ASCII code of a cell</a>
                    </li>
                  </ul>
                </li>
                <li class="haschildren">
                  <a href="console_drawing_fading.html">2.2.6. Screen fading functions</a>
                  <ul>
                    <li>
                      <a href="console_set_fade.html">2.2.6.1. Changing the fading parameters</a>
                    </li>
                    <li>
                      <a href="console_get_fade.html">2.2.6.2. Reading the fade amount</a>
                    </li>
                    <li>
                      <a href="console_get_fading_color.html">2.2.6.3. Reading the fading color</a>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
            <li class="haschildren">
              <a href="console_keyboard.html">2.3. Handling keyboard input</a>
              <ul>
                <li>
                  <a href="console_wait_for_keypress.html">2.3.1. Blocking keyboard input</a>
                </li>
                <li>
                  <a href="console_check_for_keypress.html">2.3.2. Non-blocking keyboard input</a>
                </li>
                <li>
                  <a href="console_set_keyboard_repeat.html">2.3.3. Changing keyboard repeat delay</a>
                </li>
                <li>
                  <a href="key_t.html">2.3.4. Keyboard event structure</a>
                </li>
                <li>
                  <a href="keycode_t.html">2.3.5. Key codes</a>
                </li>
              </ul>
            </li>
            <li class="haschildren">
              <a href="console_offscreen.html">2.4. Using off-screen consoles</a>
              <ul>
                <li>
                  <a href="console_console.html">2.4.1. Creating an offscreen console</a>
                </li>
                <li>
                  <a href="console_blit.html">2.4.2. Blitting a console on another one</a>
                </li>
                <li>
                  <a href="console_delete.html">2.4.3. Destroying an offscreen console</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
        <p>
          Classic real time game loop:
        </p>
        <div class="code">
          <p>
            <span class="code-tcod">TCODConsole</span><span class="code-symbol">::</span>initRoot<span class="code-symbol">(</span><span class="code-value">80</span><span class="code-symbol">,</span><span class="code-value">50</span><span class="code-symbol">,</span><span class="code-string">"my game"</span><span class="code-symbol">,</span><span class="code-keyword">false</span><span class="code-symbol">);</span><br>
            <span class="code-tcod">TCODSystem</span><span class="code-symbol">::</span>setFps<span class="code-symbol">(</span><span class="code-value">25</span><span class="code-symbol">);</span> <span class="code-comment">// limit framerate to 25 frames per second</span><br>
            <span class="code-keyword">while</span> <span class="code-symbol">(!</span>endGame <span class="code-symbol">&amp;&amp; !</span><span class="code-tcod">TCODConsole</span><span class="code-symbol">::</span>isWindowClosed<span class="code-symbol">()) {</span><br>
                <span class="code-comment">// ... draw on TCODConsole::root</span><br>
                <span class="code-tcod">TCODConsole</span><span class="code-symbol">::</span>flush<span class="code-symbol">();</span><br>
                <span class="code-tcod">TCOD_key_t</span> key <span class="code-symbol">=</span> <span class="code-tcod">TCODConsole</span><span class="code-symbol">::</span>checkForKeypress<span class="code-symbol">();</span><br>
                updateWorld <span class="code-symbol">(</span>key<span class="code-symbol">,</span> <span class="code-tcod">TCODSystem</span><span class="code-symbol">::</span>getLastFrameLength<span class="code-symbol">());</span><br>
                <span class="code-comment">// updateWorld(TCOD_key_t key, float elapsed) (using key if key.vk != TCODK_NONE)</span><br>
                <span class="code-comment">// use elapsed to scale any update that is time dependant.</span><br>
            <span class="code-symbol">}</span>
          </p>
        </div>
        <p>
          Classic turn by turn game loop:
        </p>
        <div class="code">
          <p>
            <span class="code-tcod">TCODConsole</span><span class="code-symbol">::</span>initRoot<span class="code-symbol">(</span><span class="code-value">80</span><span class="code-symbol">,</span><span class="code-value">50</span><span class="code-symbol">,</span><span class="code-string">"my game"</span><span class="code-symbol">,</span><span class="code-keyword">false</span><span class="code-symbol">);</span><br>
            <span class="code-keyword">while</span> <span class="code-symbol">(!</span>endGame <span class="code-symbol">&amp;&amp; !</span><span class="code-tcod">TCODConsole</span><span class="code-symbol">::</span>isWindowClosed<span class="code-symbol">()) {</span><br>
                <span class="code-comment">// ... draw on TCODConsole::root</span><br>
                <span class="code-tcod">TCODConsole</span><span class="code-symbol">::</span>flush<span class="code-symbol">();</span><br>
                <span class="code-tcod">TCOD_key_t</span> key <span class="code-symbol">=</span> <span class="code-tcod">TCODConsole</span><span class="code-symbol">::</span>waitForKeypress<span class="code-symbol">(</span><span class="code-keyword">true</span><span class="code-symbol">);</span><br>
                <span class="code-comment">//... update world, using key</span><br>
            <span class="code-symbol">}</span>
          </p>
        </div>
      </div>
    </div>
  </body>
</html>